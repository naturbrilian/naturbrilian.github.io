<!DOCTYPE html> <html lang="en, id, jp"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Using chatGPT to create simple code | Lieba Natur Brilian </title> <meta name="author" content="Lieba Natur Brilian"> <meta name="description" content="Natur Brilian Main Site | Write Anything &amp; Update Another Project. "> <meta name="keywords" content="blog, portfolio-website, resume, blog-project"> <meta property="og:site_name" content="Lieba Natur Brilian"> <meta property="og:type" content="article"> <meta property="og:title" content="Lieba Natur Brilian | Using chatGPT to create simple code"> <meta property="og:url" content="https://naturbrilian.github.io/blog/2025/lastfm-to-sbky-en/"> <meta property="og:description" content="Natur Brilian Main Site | Write Anything &amp; Update Another Project. "> <meta property="og:locale" content="en, id, jp"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Using chatGPT to create simple code"> <meta name="twitter:description" content="Natur Brilian Main Site | Write Anything &amp; Update Another Project. "> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://naturbrilian.github.io/blog/2025/lastfm-to-sbky-en/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Lieba</span> Natur Brilian </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/friends/">website my friends </a> </li> <li class="nav-item "> <a class="nav-link" href="/now/">now </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/people/">me </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Using chatGPT to create simple code</h1> <p class="post-meta"> Created on August 17, 2025 </p> <p class="post-tags"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a>   ·   <a href="/blog/tag/tutorial"> <i class="fa-solid fa-hashtag fa-sm"></i> tutorial</a>   ·   <a href="/blog/category/tutorial"> <i class="fa-solid fa-tag fa-sm"></i> tutorial</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p>Yesterday, I remembered that I had a Bluesky account that I planned to use to post songs on Last.fm. Previously, I had tried LegatoNowPlaying, but unfortunately, it only supported Misskey, which I strongly disagreed with at the time because there was no Bluesky option.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/misskey-id-buat-bot-post-480.webp 480w,/assets/img/misskey-id-buat-bot-post-800.webp 800w,/assets/img/misskey-id-buat-bot-post-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/misskey-id-buat-bot-post.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>Unfortunately, it turns out that the developer <a href="https://github.com/Legato-Dev/Legato-NowPlaying" rel="external nofollow noopener" target="_blank">LegatoNowPlaying</a> only provides support for one player, namely <a href="https://aimp.ru/" rel="external nofollow noopener" target="_blank">AIMP</a>, and in the end I couldn’t use it for <a href="https://open.spotify.com/" rel="external nofollow noopener" target="_blank">Spotify</a> and etc.</p> <p>Finally, it occurred to me about my account at <a href="https://bsky.app/profile/scrobble.naturbrilian.dpdns.org" rel="external nofollow noopener" target="_blank">@scrobble.naturbrilian.dpdns.org</a> which I created a few months ago. I actually separated this account from my main account, and it only contains playback statuses.</p> <h1 id="how-do-i-instruct-chatgpt-to-create-a-simple-tool">How do I instruct ChatGPT to create a simple tool?</h1> <p>The way to give commands to chatGPT is very easy. First, I give commands like this, just as if you were chatting with a friend.</p> <pre><code class="language-script">I have an account on Bluesky with this username: https://bsky.app/profile/namapengguna.bsky.social. I plan to use this account to post what I'm listening to using the Last.fm API. I've tried tools like LegatoNowPlaying from GitHub, but it only works on Misskey. Do you know of any tools or scripts that currently work?
</code></pre> <p>Wait for chatGPT to respond. Usually, chatGPT will respond with recommendations for several tools that you are referring to, but sometimes the answers you receive may not be appropriate. So, try having another conversation as usual, like this I want to automatically post what I’m listening to, not post top artists every week. Or more simply, “not a top artist.” Then ChatGPT will respond with “how to create an autopost Now Playing to Bluesky.” The bot will then create a simple Python script. Just follow the instructions, and the bot will create the full version at the same time.</p> <h1 id="setting-up-your-lastfm-api">Setting up your lastfm API</h1> <p>Get your lastfm API from this <a href="https://www.last.fm/api/account/create" rel="external nofollow noopener" target="_blank">links</a>, then click create, several APIs will appear, then copy the API Key there.</p> <p>http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&amp;user=USERNAME&amp;api_key=APIKEY&amp;format=json&amp;limit=1 Then, copy the code provided by ChatGPT into your favorite text editor. Here, I am using VSCode.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/python-script-on-vscode-480.webp 480w,/assets/img/python-script-on-vscode-800.webp 800w,/assets/img/python-script-on-vscode-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/python-script-on-vscode.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>Then enter the username and API key you received earlier, then go to Bluesky to get the password.</p> <blockquote class="block-note"> <h5 id="note">NOTE</h5> <p>The password on Bluesky is not an account password, but an application password.</p> </blockquote> <h1 id="how-do-you-get-your-app-password">How do you get your app password?</h1> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/apps-password-480.webp 480w,/assets/img/apps-password-800.webp 800w,/assets/img/apps-password-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/apps-password.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>Go to Settings &gt; Privacy &amp; Security &gt; App Password, then click App Password, create any name you like, then click Next. The app password will then appear.</p> <p>After that, enter the Bluesky Application Password in the section <strong>BSKY_PASS</strong>.</p> <blockquote class="block-reminder"> <h5 id="reminder">REMINDER</h5> <p>Labeled <strong>BSKY_HANDLE</strong> &amp; <strong>BSKY_PASS</strong> filled as above</p> </blockquote> <p>Once everything is set up, try testing it by running the Python script in your directory. If an error appears, try troubleshooting it yourself if you are familiar with programming. If not, send the log displayed in CMD back to ChatGPT.</p> <p>After all problem have been resolved, let’s test whether the script is running properly and play a song using a music player that supports Last.fm scrobble, web scrobble, or Spotify. If successful, the log should appear as follows</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/contoh-post-otomatis-480.webp 480w,/assets/img/contoh-post-otomatis-800.webp 800w,/assets/img/contoh-post-otomatis-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/contoh-post-otomatis.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/hasil-di-bsky-480.webp 480w,/assets/img/hasil-di-bsky-800.webp 800w,/assets/img/hasil-di-bsky-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/hasil-di-bsky.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>How about it? Would you like to try it, or shall I put the modified script below if you want to refine it?</p> <div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">import</span><span class="err"> </span><span class="na">requests</span><span class="err">, </span><span class="na">time</span><span class="err">, </span><span class="na">datetime</span><span class="err">

</span><span class="na">LASTFM_USER</span><span class="err"> = "</span><span class="na">USERNAMEKAMU</span><span class="err">"
</span><span class="na">LASTFM_API_KEY</span><span class="err"> = "</span><span class="na">APIKEYKAMU</span><span class="err">"
</span><span class="na">BSKY_HANDLE</span><span class="err"> = "</span><span class="na">username</span><span class="err">.</span><span class="na">bsky</span><span class="err">.</span><span class="na">social</span><span class="err">"
</span><span class="na">BSKY_PASS</span><span class="err"> = "</span><span class="na">APPSPASSWORDKAMU</span><span class="err">"

</span><span class="na">last_track</span><span class="err"> = </span><span class="na">None</span><span class="err">

</span><span class="na">while</span><span class="err"> </span><span class="na">True</span><span class="p">:</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"http://ws.audioscrobbler.com/2.0/"</span><span class="o">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
        <span class="err">"</span><span class="na">method</span><span class="err">"</span><span class="p">:</span> <span class="s2">"user.getrecenttracks"</span><span class="o">,</span>
        <span class="s2">"user"</span><span class="o">:</span> <span class="s2">"USERNAMEKAMU"</span><span class="o">,</span>
        <span class="s2">"api_key"</span><span class="o">:</span> <span class="s2">"APIKEYKAMU"</span><span class="o">,</span>
        <span class="s2">"format"</span><span class="o">:</span> <span class="s2">"json"</span><span class="o">,</span>
        <span class="s2">"limit"</span><span class="o">:</span> <span class="m">1</span>
    <span class="p">}</span><span class="o">)</span><span class="nc">.json</span><span class="o">()</span>

    <span class="nt">track</span> <span class="o">=</span> <span class="nt">r</span><span class="o">[</span><span class="s2">"recenttracks"</span><span class="o">][</span><span class="s2">"track"</span><span class="o">][</span><span class="nt">0</span><span class="o">]</span>
    <span class="nt">if</span> <span class="s2">"@attr"</span> <span class="nt">in</span> <span class="nt">track</span> <span class="nt">and</span> <span class="nt">track</span><span class="o">[</span><span class="s2">"@attr"</span><span class="o">]</span><span class="nc">.get</span><span class="o">(</span><span class="s2">"nowplaying"</span><span class="o">)</span> <span class="o">==</span> <span class="s2">"true"</span><span class="nd">:</span>
        <span class="nt">artist</span> <span class="o">=</span> <span class="nt">track</span><span class="o">[</span><span class="s2">"artist"</span><span class="o">][</span><span class="s2">"#text"</span><span class="o">]</span>
        <span class="nt">title</span> <span class="o">=</span> <span class="nt">track</span><span class="o">[</span><span class="s2">"name"</span><span class="o">]</span>
        <span class="nt">text</span> <span class="o">=</span> <span class="nt">f</span><span class="s2">"🎵 Now Playing: {artist} – {title}"</span>

        <span class="nt">if</span> <span class="nt">text</span> <span class="o">!=</span> <span class="nt">last_track</span><span class="nd">:</span> 
            <span class="nn">#</span> <span class="nt">login</span> <span class="nt">Bluesky</span>
            <span class="nt">session</span> <span class="o">=</span> <span class="nt">requests</span><span class="nc">.post</span><span class="o">(</span><span class="s2">"https://bsky.social/xrpc/com.atproto.server.createSession"</span><span class="o">,</span>
                <span class="nt">json</span><span class="o">=</span><span class="p">{</span><span class="err">"</span><span class="na">identifier</span><span class="err">"</span><span class="p">:</span> <span class="s2">"username.bsky.social"</span><span class="o">,</span> <span class="s2">"password"</span><span class="o">:</span> <span class="s2">"APPSPASSWORDKAMU"</span><span class="p">}</span><span class="o">)</span><span class="nc">.json</span><span class="o">()</span>
            <span class="nt">headers</span> <span class="o">=</span> <span class="p">{</span>
                <span class="err">"</span><span class="na">Authorization</span><span class="err">"</span><span class="p">:</span> <span class="n">f</span><span class="s2">"Bearer {session['accessJwt']}"</span><span class="o">,</span>
                <span class="s2">"Content-Type"</span><span class="o">:</span> <span class="s2">"application/json"</span>
            <span class="p">}</span>

            <span class="nt">post</span> <span class="o">=</span> <span class="p">{</span>
                <span class="err">"</span><span class="na">repo</span><span class="err">"</span><span class="p">:</span> <span class="s2">"DID AKUN KAMU"</span><span class="o">,</span>
                <span class="s2">"collection"</span><span class="o">:</span> <span class="s2">"app.bsky.feed.post"</span><span class="o">,</span>
                <span class="s2">"record"</span><span class="o">:</span> <span class="p">{</span>
                    <span class="err">"</span><span class="na">text</span><span class="err">"</span><span class="p">:</span> <span class="nb">text</span><span class="o">,</span>
                    <span class="s2">"createdAt"</span><span class="o">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="nf">utcnow</span><span class="p">()</span><span class="o">.</span><span class="nf">isoformat</span><span class="p">()</span> <span class="o">+</span> <span class="s2">"Z"</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="na">requests</span><span class="err">.</span><span class="na">post</span><span class="err">("</span><span class="na">https</span><span class="p">:</span><span class="o">//</span><span class="n">bsky</span><span class="o">.</span><span class="n">social</span><span class="o">/</span><span class="n">xrpc</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">atproto</span><span class="o">.</span><span class="n">repo</span><span class="o">.</span><span class="n">createRecord</span><span class="s2">",</span><span class="err">
</span><span class="s2">                          headers=headers, json=post)</span><span class="err">
</span><span class="s2">            print("</span><span class="n">Posted</span><span class="o">:</span><span class="s2">", text)</span><span class="err">
</span><span class="s2">            last_track = text</span><span class="err">

</span><span class="s2">    time.sleep(30)</span><span class="err">
</span></code></pre></div></div> </div> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Lieba Natur Brilian. Situs ini dibuat oleh <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> dengan tema <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a>. Dihosting di <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Foto dari Pribadi, <a href="https://google.com/" target='_blank"' rel="external nofollow noopener">Google</a>, <a href="https://pixiv.net" target='_blank"' rel="external nofollow noopener">Pixiv</a>, dan <a href="https://alphacoders.com/" target='_blank"' rel="external nofollow noopener">Alphacoders</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>